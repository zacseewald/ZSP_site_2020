{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/zs/Desktop/ZSP_site_2020/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _classCallCheck = require(\"/Users/zs/Desktop/ZSP_site_2020/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/zs/Desktop/ZSP_site_2020/node_modules/@babel/runtime/helpers/createClass\");\n\nvar getProperty = function getProperty(obj, name) {\n  name = name.split(\".\");\n\n  for (var i = 0; i < name.length - 1; i++) {\n    obj = obj[name[i]];\n    if (typeof obj !== \"object\" || !obj || Array.isArray(obj)) return;\n  }\n\n  return obj[name.pop()];\n};\n\nvar setProperty = function setProperty(obj, name, value) {\n  name = name.split(\".\");\n\n  for (var i = 0; i < name.length - 1; i++) {\n    if (typeof obj[name[i]] !== \"object\" && obj[name[i]] !== undefined) return;\n    if (Array.isArray(obj[name[i]])) return;\n    if (!obj[name[i]]) obj[name[i]] = {};\n    obj = obj[name[i]];\n  }\n\n  obj[name.pop()] = value;\n};\n\nvar OptionsDefaulter =\n/*#__PURE__*/\nfunction () {\n  function OptionsDefaulter() {\n    _classCallCheck(this, OptionsDefaulter);\n\n    this.defaults = {};\n    this.config = {};\n  }\n\n  _createClass(OptionsDefaulter, [{\n    key: \"process\",\n    value: function process(options) {\n      options = Object.assign({}, options);\n\n      for (var name in this.defaults) {\n        switch (this.config[name]) {\n          case undefined:\n            if (getProperty(options, name) === undefined) {\n              setProperty(options, name, this.defaults[name]);\n            }\n\n            break;\n\n          case \"call\":\n            setProperty(options, name, this.defaults[name].call(this, getProperty(options, name), options));\n            break;\n\n          case \"make\":\n            if (getProperty(options, name) === undefined) {\n              setProperty(options, name, this.defaults[name].call(this, options));\n            }\n\n            break;\n\n          case \"append\":\n            {\n              var _oldValue;\n\n              var oldValue = getProperty(options, name);\n\n              if (!Array.isArray(oldValue)) {\n                oldValue = [];\n              }\n\n              (_oldValue = oldValue).push.apply(_oldValue, _toConsumableArray(this.defaults[name]));\n\n              setProperty(options, name, oldValue);\n              break;\n            }\n\n          default:\n            throw new Error(\"OptionsDefaulter cannot process \" + this.config[name]);\n        }\n      }\n\n      return options;\n    }\n  }, {\n    key: \"set\",\n    value: function set(name, config, def) {\n      if (def !== undefined) {\n        this.defaults[name] = def;\n        this.config[name] = config;\n      } else {\n        this.defaults[name] = config;\n        delete this.config[name];\n      }\n    }\n  }]);\n\n  return OptionsDefaulter;\n}();\n\nmodule.exports = OptionsDefaulter;","map":null,"metadata":{},"sourceType":"script"}